{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ListeSinistres(_ref){let{clientId}=_ref;const[sinistres,setSinistres]=useState([]);useEffect(()=>{const fetchSinistres=async()=>{const token=localStorage.getItem('token');const res=await axios.get(\"http://localhost:5000/api/sinistres/client/\".concat(clientId),{headers:{Authorization:token}});setSinistres(res.data);};fetchSinistres();},[clientId]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Mes sinistres\"}),/*#__PURE__*/_jsx(\"ul\",{children:sinistres.map(s=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"b\",{children:s.description}),\" - Statut : \",s.statut,\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Evolution : \",s.evolution]},s.id))})]});}export default ListeSinistres;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","ListeSinistres","_ref","clientId","sinistres","setSinistres","fetchSinistres","token","localStorage","getItem","res","get","concat","headers","Authorization","data","children","map","s","description","statut","evolution","id"],"sources":["C:/Users/NGAHA NGAHA/preventis-Gestion-Sinistre/frontend/src/components/Sinistre/ListeSinistres.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nfunction ListeSinistres({ clientId }) {\n  const [sinistres, setSinistres] = useState([]);\n\n  useEffect(() => {\n    const fetchSinistres = async () => {\n      const token = localStorage.getItem('token');\n      const res = await axios.get(\n        `http://localhost:5000/api/sinistres/client/${clientId}`,\n        { headers: { Authorization: token } }\n      );\n      setSinistres(res.data);\n    };\n    fetchSinistres();\n  }, [clientId]);\n\n  return (\n    <div>\n      <h2>Mes sinistres</h2>\n      <ul>\n        {sinistres.map(s => (\n          <li key={s.id}>\n            <b>{s.description}</b> - Statut : {s.statut} <br />\n            Evolution : {s.evolution}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\nListeSinistres.propTypes = {\n  clientId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n};\n\nexport default ListeSinistres;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,cAAcA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAClC,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAE9CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,+CAAAC,MAAA,CACqBT,QAAQ,EACtD,CAAEU,OAAO,CAAE,CAAEC,aAAa,CAAEP,KAAM,CAAE,CACtC,CAAC,CACDF,YAAY,CAACK,GAAG,CAACK,IAAI,CAAC,CACxB,CAAC,CACDT,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,CAACH,QAAQ,CAAC,CAAC,CAEd,mBACEH,KAAA,QAAAgB,QAAA,eACElB,IAAA,OAAAkB,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBlB,IAAA,OAAAkB,QAAA,CACGZ,SAAS,CAACa,GAAG,CAACC,CAAC,eACdlB,KAAA,OAAAgB,QAAA,eACElB,IAAA,MAAAkB,QAAA,CAAIE,CAAC,CAACC,WAAW,CAAI,CAAC,eAAY,CAACD,CAAC,CAACE,MAAM,CAAC,GAAC,cAAAtB,IAAA,QAAK,CAAC,eACvC,CAACoB,CAAC,CAACG,SAAS,GAFjBH,CAAC,CAACI,EAGP,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAKA,cAAe,CAAArB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}